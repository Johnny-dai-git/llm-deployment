# =========================
# Docker Registry 认证 Secret
# =========================
# GitHub Container Registry (ghcr.io) 认证配置
# 
# 注意：
# - 只使用 username 和 password 字段，不使用 auth 字段
# - Kubernetes 会自动生成 auth 字段（base64 编码的 username:password）
# - 如果同时提供 auth 字段，Kubernetes 会优先使用它，可能导致认证失败

apiVersion: v1
kind: Secret
metadata:
  name: docker-registry-secret
  namespace: argocd
  labels:
    app.kubernetes.io/name: argocd-image-updater
type: kubernetes.io/dockerconfigjson
stringData:
  .dockerconfigjson: |
    {
      "auths": {
        "ghcr.io": {
          "username": "Johnny-dai-git",
          "password": "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"
        }
      }
    }

